(this.webpackJsonpquizz=this.webpackJsonpquizz||[]).push([[0],{100:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(55),o=n.n(c),l=(n(76),n(16)),i=n(4),s=function(e){return null===localStorage.getItem("studentID")?r.a.createElement(i.b,e):r.a.createElement(i.a,{to:"/quiz-instruction"})},u=n(70),m=function(e){var t=e.component,n=Object(u.a)(e,["component"]);return null!==localStorage.getItem("studentID")?r.a.createElement(i.b,Object.assign({},n,{component:t})):r.a.createElement(i.a,{to:"/"})},p=n(1),d=n.n(p),f=n(8),g=n(18),h=n.n(g),v=(n(50),function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"header-logo",src:"./transparance.png",alt:""})))}),E="https://evening-ridge-31382.herokuapp.com/api",b=function(){var e=Object(i.g)(),t=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("name")),r=JSON.parse(localStorage.getItem("studentID")),t.prev=3,t.next=6,h()({method:"GET",url:"".concat(E,"/user/start"),params:{token:n,studentID:r,name:a}});case 6:(c=t.sent).data.success&&(localStorage.setItem("questions",JSON.stringify(c.data.data.questions)),localStorage.setItem("timeStart",JSON.stringify(c.data.data.timeStart)),"/quiz",e.push("/quiz")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),403===t.t0.response.status?("/quiz-summary",e.push("/quiz-summary")):400===t.t0.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("studentID"),localStorage.removeItem("name"),"/invalid-token",e.push("/invalid-token"));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"instructions"},r.a.createElement("h1",null,"C\xe1ch ch\u01a1i"),r.a.createElement("h3",null,"\u0110\u1ecdc k\u1ef9 h\u01b0\u1edbng d\u1eabn tr\u01b0\u1edbc khi b\u01b0\u1edbc v\xe0o th\u1eed th\xe1ch nh\xe9! "),r.a.createElement("ul",{className:"browser-default",id:"main-list"},r.a.createElement("li",null,"C\xe1c b\u1ea1n ph\u1ea3i ho\xe0n th\xe0nh 10 c\xe2u h\u1ecfi \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp theo th\u1ee9 t\u1ef1 t\u1eeb d\u1ec5 \u0111\u1ebfn kh\xf3."),r.a.createElement("li",null,"M\u1ed7i c\xe2u h\u1ecfi c\xf3 4 \u0111\xe1p \xe1n l\u1ef1a ch\u1ecdn, b\u1ea1n c\xf3 th\u1ec3 thay \u0111\u1ed5i \u0111\xe1p \xe1n b\u1eb1ng c\xe1ch quay tr\u1edf l\u1ea1i c\xe2u h\u1ecfi tr\u01b0\u1edbc."),r.a.createElement("li",null,"Th\u1eddi gian l\xe0m b\xe0i s\u1ebd \u0111\u01b0\u1ee3c t\xednh khi b\u1ea1n \u1ea5n v\xe0o \xf4 B\u1eaft \u0111\u1ea7u."),r.a.createElement("li",null,"M\u1ed7i b\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c l\xe0m 1 b\xe0i Quiz duy nh\u1ea5t.")),r.a.createElement("div",null,r.a.createElement("button",{className:"start-button",onClick:t},"B\u1eaft \u0111\u1ea7u"))))},S=n(2),O=function(e){var t=e.content;return r.a.createElement("div",null,r.a.createElement("p",{className:"question-box"},t))},k=n(3),N=function(e){var t=e.answer,n=e.setArrOfAnswer,a=e.arrOfAnswer,c=e.index,o=e.indexOfQuestion;return r.a.createElement("div",{className:a[o-1]===c+1?"choosing-container container":"container",onClick:function(){var e=a;e[o-1]!==c+1&&(e[o-1]=c+1,n(Object(k.a)(e)))}},t)},I=function(e){var t=e.multipleChoice,n=e.indexOfQuestion,c=Object(a.useState)(JSON.parse(localStorage.getItem("answer"))||[0,0,0,0,0,0,0,0,0,0]),o=Object(S.a)(c,2),l=o[0],i=o[1];return Object(a.useEffect)((function(){localStorage.setItem("answer",JSON.stringify(l))}),[l]),r.a.createElement("div",{className:"answer-container"},t.map((function(e,t){return r.a.createElement(N,{key:t,answer:e,arrOfAnswer:l,setArrOfAnswer:i,index:t,indexOfQuestion:n})})))},y=(n(100),function(e){var t=e.initialTime,n=Object(a.useState)(0),c=Object(S.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){var e=setInterval((function(){l(Date.now()-t)}),1e3);return function(){return clearInterval(e)}})),r.a.createElement("span",null,function(e){var t=Math.round(e/1e3),n=Math.floor(t/60),a=t%60;return(n=n<10?"0"+n:""+n)+":"+(a=a<10?"0"+a:""+a)}(o))}),j=n(130),w=function(e){var t=e.indexOfQuestion,n=JSON.parse(localStorage.getItem("timeStart"));return r.a.createElement("nav",null,r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"header-logo",src:"./transparance.png",alt:""}),r.a.createElement("div",{className:"header-progress"},r.a.createElement("p",null,t,"/10"),r.a.createElement(j.a,{percent:10*t,showInfo:!1})),r.a.createElement("div",{className:"header-timer"},r.a.createElement("i",{className:"fa fa-stopwatch"}),r.a.createElement(y,{initialTime:n}))))},q=function(){var e=JSON.parse(localStorage.getItem("questions")),t=JSON.parse(localStorage.getItem("token")),n=JSON.parse(localStorage.getItem("name")),c=JSON.parse(localStorage.getItem("studentID")),o=Object(i.g)(),l=Object(a.useState)(1),s=Object(S.a)(l,2),u=s[0],m=s[1],p=Object(a.useState)(!1),g=Object(S.a)(p,2),v=g[0],b=g[1],k=function(){u<10&&m(u+1)},N=function(){b(!1)},y=function(){var e=Object(f.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),a=JSON.parse(localStorage.getItem("answer")),e.prev=2,e.next=5,h()({method:"POST",url:"".concat(E,"/user/end"),data:{token:t,name:n,studentID:c,answer:a}});case 5:e.sent.data.success&&("/quiz-summary",o.push("/quiz-summary")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&403===e.t0.response.status?("/quiz-summary",o.push("/quiz-summary")):e.t0.response&&400===e.t0.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("studentID"),localStorage.removeItem("name"),"/invalid-token",o.push("/invalid-token"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(w,{indexOfQuestion:u}),r.a.createElement(O,{content:e[u-1].question}),r.a.createElement(I,{indexOfQuestion:u,multipleChoice:e[u-1].multipleChoice,nextQuestion:k}),r.a.createElement("div",{className:"navigation"},u>1&&r.a.createElement("button",{className:"btn btn-prev",onClick:function(){u>1&&m(u-1)}},r.a.createElement("i",{className:"fa fa-arrow-left"})),u<10&&r.a.createElement("button",{className:"btn btn-next",onClick:function(){return k()}},r.a.createElement("i",{className:"fa fa-arrow-right"}))),r.a.createElement("button",{className:"btn btn-submit",onClick:function(){b(!0)}},"Submit"),r.a.createElement("div",{className:v?"dialog-container":"dialog-container-none",onClick:N},r.a.createElement("div",{className:"dialog"},r.a.createElement("div",{className:"dialog-title"},"B\u1ea1n \u0111\xe3 ch\u1eafc ch\u1eafn n\u1ed9p b\xe0i?"),r.a.createElement("div",{className:"dialog-action"},r.a.createElement("button",{className:"btn btn-dialog",onClick:N},"Kh\xf4ng"),r.a.createElement("button",{className:"btn btn-dialog",onClick:y},"C\xf3")))))},x=n(69),z=(n(124),function(e){var t=e.register,n=e.name,c=e.label,o=e.type,l=e.errors,i=e.valid,s=e.icon,u=(e.isTaken,Object(a.useState)(!1)),m=Object(S.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)(""),g=Object(S.a)(f,2),h=g[0],v=g[1];return r.a.createElement("div",{className:p?"input-container focus":"input-container"},r.a.createElement("div",{className:"input-icon"},s),r.a.createElement("div",{className:"input-field"},r.a.createElement("h5",null,c),r.a.createElement("input",{type:o,name:n,className:"input",ref:i||t({required:"".concat(c," is required")}),onChange:function(e){return v(e.target.value)},onFocus:function(){return d(!0)},onBlur:function(){!h&&d(!1)}}),l[n]&&r.a.createElement("span",null,l[n].message)))}),J=(n(125),n(65)),C=n.n(J),D=n(21),Q=n.n(D),M=n(66),T=n(67),A=n(40),B=new(function(){function e(){Object(M.a)(this,e)}return Object(T.a)(e,[{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'""';if("undefined"!==typeof localStorage){var n=localStorage.getItem(e);return n&&"undefined"===n&&(n=t),JSON.parse(n)}}},{key:"setItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"undefined"!==typeof localStorage&&localStorage.setItem(e,JSON.stringify(t))}},{key:"removeItem",value:function(e){"undefined"!==typeof localStorage&&localStorage.removeItem(e)}},{key:"clear",value:function(){"undefined"!==typeof localStorage&&localStorage.clear()}},{key:"deleteUser",value:function(){this.removeItem("token"),window.location.reload(!1)}},{key:"getUser",value:function(){if("undefined"!==typeof localStorage){var e=this.getItem("token");if(!e)return e;try{return Object(A.a)(e),Object(A.a)(e)}catch(t){t.response&&401===t.response.status&&this.deleteUser()}}}},{key:"getToken",value:function(){return this.getItem("token")}}]),e}()),V=function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(B.getToken())}},U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return h()({url:E+e,method:t,headers:Q()(V(),n),params:Q()(a),data:r})},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return U(e,"POST",a,n,t)},F=function(){var e=Object(x.a)(),t=e.register,n=e.handleSubmit,c=e.errors,o=Object(i.g)(),l=Object(a.useState)(!1),s=Object(S.a)(l,2),u=s[0],m=s[1],p=Object(a.useState)(!1),g=Object(S.a)(p,2),h=g[0],E=g[1],b=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),E(!1),n=JSON.parse(localStorage.getItem("token")),e.next=6,R("/user/register",{token:n,name:t.name,studentID:t.studentID});case 6:e.sent.data.success&&(localStorage.setItem("name",JSON.stringify(t.name)),localStorage.setItem("studentID",JSON.stringify(t.studentID.toUpperCase())),"/quiz-instruction",o.push("/quiz-instruction")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status?(m(!1),E(!0)):e.t0.response&&400===e.t0.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("studentID"),localStorage.removeItem("name"),"/invalid-token",o.push("/invalid-token"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("img",{className:"logoMiniGame",src:C.a,alt:""}),r.a.createElement("form",{className:"form-wrapper",onSubmit:n(b)},r.a.createElement(z,{register:t,icon:r.a.createElement("i",{className:"fa fas fa-user"}),name:"name",type:"text",label:"H\u1ecd v\xe0 t\xean",errors:c,valid:t({required:"H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"})}),r.a.createElement(z,{register:t,icon:r.a.createElement("i",{className:"fa fas fa-user"}),name:"studentID",type:"text",label:"MSSV",errors:c,valid:t({required:"MSSV kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"})}),r.a.createElement("span",{className:"error",style:{display:!h&&"none"}},"Vui l\xf2ng nh\u1eadp \u0111\xfang MSSV v\xe0 t\xean \u0111\xe3 \u0111\u0103ng k\xed v\u1edbi m\xe3 QR n\xe0y."),r.a.createElement("button",{className:"login-button",disabled:u},r.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{display:!u&&"none"}})," ","Submit")))},P=n(68),G=n.n(P),H=(n(126),function(){return r.a.createElement("div",{className:"error-container"},r.a.createElement(v,null),r.a.createElement("img",{className:"error-pic",src:G.a,alt:"error",width:"30%"}),r.a.createElement("h1",{className:"alert-text"},"M\xe3 QR kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng \u0111\u1ebfn qu\u1ea7y \u0111\u1ec3 nh\u1eadn m\xe3 QR kh\xe1c."))}),K=(n(127),[{path:"/",name:"welcome",component:F},{path:"/invalid-token",name:"invalid-token",component:H}]),L=[{path:"/quiz-instruction",name:"quiz-instruction",component:b},{path:"/quiz",name:"quiz",component:q},{path:"/quiz-summary",name:"quiz-summary",component:function(){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"summary-container"},r.a.createElement("h1",null,"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 ho\xe0n th\xe0nh b\xe0i Quiz."),r.a.createElement("h3",null,"Vui l\xf2ng theo d\xf5i Fanpage F-Code \u0111\u1ec3 \u0111\xf3n nh\u1eadn k\u1ebft qu\u1ea3 nh\xe9!!")))}}],W=r.a.createElement(i.d,null,K.map((function(e){return r.a.createElement(s,{key:e.name,exact:!0,path:e.path,component:e.component})})),L.map((function(e){return r.a.createElement(m,{key:e.name,path:e.path,component:e.component})}))),X=function(){var e=window.location.search,t=new URLSearchParams(e).get("token");return null!==t&&localStorage.setItem("token",JSON.stringify(t)),r.a.createElement(l.a,null,W)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root"))},65:function(e,t,n){e.exports=n.p+"static/media/logo.5bac75e2.png"},68:function(e,t,n){e.exports=n.p+"static/media/error.b3d878e7.jpg"},71:function(e,t,n){e.exports=n(128)},76:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.6f836c9e.chunk.js.map