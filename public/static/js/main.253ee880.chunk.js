(this.webpackJsonpquizz=this.webpackJsonpquizz||[]).push([[0],{105:function(e,t,n){e.exports=n(166)},110:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),o=(n(110),n(31)),s=n(15),i=function(e){return null===localStorage.getItem("studentID")?r.a.createElement(s.b,e):r.a.createElement(s.a,{to:"/quiz-instruction"})},u=n(104),m=function(e){var t=e.component,n=Object(u.a)(e,["component"]);return null!==localStorage.getItem("studentID")?r.a.createElement(s.b,Object.assign({},n,{component:t})):r.a.createElement(s.a,{to:"/"})},p=n(6),d=n.n(p),f=n(21),g=n(36),h=n.n(g),v=(n(63),function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"header-logo",src:"./transparance.png",alt:""})))}),E="https://evening-ridge-31382.herokuapp.com/api",b=function(){var e=Object(s.g)(),t=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("name")),r=JSON.parse(localStorage.getItem("studentID")),t.prev=3,t.next=6,h()({method:"GET",url:"".concat(E,"/user/start"),params:{token:n,studentID:r,name:a}});case 6:(c=t.sent).data.success&&(localStorage.setItem("questions",JSON.stringify(c.data.data.questions)),localStorage.setItem("timeStart",JSON.stringify(c.data.data.timeStart)),"/quiz",e.push("/quiz")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),403===t.t0.response.status?("/quiz-summary",e.push("/quiz-summary")):400===t.t0.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("studentID"),localStorage.removeItem("name"),localStorage.removeItem("answer"),localStorage.removeItem("question"),"/invalid-token",e.push("/invalid-token"));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"instructions"},r.a.createElement("h1",null,"C\xe1ch ch\u01a1i"),r.a.createElement("h3",null,"\u0110\u1ecdc k\u1ef9 h\u01b0\u1edbng d\u1eabn tr\u01b0\u1edbc khi b\u01b0\u1edbc v\xe0o th\u1eed th\xe1ch nh\xe9! "),r.a.createElement("ul",{className:"browser-default",id:"main-list"},r.a.createElement("li",null,"C\xe1c b\u1ea1n ph\u1ea3i ho\xe0n th\xe0nh 10 c\xe2u h\u1ecfi \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp theo th\u1ee9 t\u1ef1 t\u1eeb d\u1ec5 \u0111\u1ebfn kh\xf3."),r.a.createElement("li",null,"M\u1ed7i c\xe2u h\u1ecfi c\xf3 4 \u0111\xe1p \xe1n l\u1ef1a ch\u1ecdn, b\u1ea1n c\xf3 th\u1ec3 thay \u0111\u1ed5i \u0111\xe1p \xe1n b\u1eb1ng c\xe1ch quay tr\u1edf l\u1ea1i c\xe2u h\u1ecfi tr\u01b0\u1edbc."),r.a.createElement("li",null,"Th\u1eddi gian l\xe0m b\xe0i s\u1ebd \u0111\u01b0\u1ee3c t\xednh khi b\u1ea1n \u1ea5n v\xe0o \xf4 B\u1eaft \u0111\u1ea7u."),r.a.createElement("li",null,"M\u1ed7i b\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c l\xe0m 1 b\xe0i Quiz duy nh\u1ea5t.")),r.a.createElement("div",null,r.a.createElement("button",{className:"start-button",onClick:t},"B\u1eaft \u0111\u1ea7u"))))},S=n(13),O=n(103),N=(n(132),function(e){var t=e.register,n=e.name,c=e.label,l=e.type,o=e.errors,s=e.valid,i=e.icon,u=(e.isTaken,Object(a.useState)(!1)),m=Object(S.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)(""),g=Object(S.a)(f,2),h=g[0],v=g[1];return r.a.createElement("div",{className:p?"input-container focus":"input-container"},r.a.createElement("div",{className:"input-icon"},i),r.a.createElement("div",{className:"input-field"},r.a.createElement("h5",null,c),r.a.createElement("input",{type:l,name:n,className:"input",ref:s||t({required:"".concat(c," is required")}),onChange:function(e){return v(e.target.value)},onFocus:function(){return d(!0)},onBlur:function(){!h&&d(!1)}}),o[n]&&r.a.createElement("span",null,o[n].message)))}),k=(n(133),n(87)),y=n.n(k),I=n(47),w=n.n(I),q=n(88),j=n(89),z=n(69),x=new(function(){function e(){Object(q.a)(this,e)}return Object(j.a)(e,[{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'""';if("undefined"!==typeof localStorage){var n=localStorage.getItem(e);return n&&"undefined"===n&&(n=t),JSON.parse(n)}}},{key:"setItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"undefined"!==typeof localStorage&&localStorage.setItem(e,JSON.stringify(t))}},{key:"removeItem",value:function(e){"undefined"!==typeof localStorage&&localStorage.removeItem(e)}},{key:"clear",value:function(){"undefined"!==typeof localStorage&&localStorage.clear()}},{key:"deleteUser",value:function(){this.removeItem("token"),window.location.reload(!1)}},{key:"getUser",value:function(){if("undefined"!==typeof localStorage){var e=this.getItem("token");if(!e)return e;try{return Object(z.a)(e),Object(z.a)(e)}catch(t){t.response&&401===t.response.status&&this.deleteUser()}}}},{key:"getToken",value:function(){return this.getItem("token")}}]),e}()),C=function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(x.getToken())}},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return h()({url:E+e,method:t,headers:w()(C(),n),params:w()(a),data:r})},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return J(e,"POST",a,n,t)},D=function(){var e=Object(O.a)(),t=e.register,n=e.handleSubmit,c=e.errors,l=Object(s.g)(),o=Object(a.useState)(!1),i=Object(S.a)(o,2),u=i[0],m=i[1],p=Object(a.useState)(!1),g=Object(S.a)(p,2),h=g[0],E=g[1],b=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),E(!1),n=JSON.parse(localStorage.getItem("token")),e.next=6,A("/user/register",{token:n,name:t.name,studentID:t.studentID.toUpperCase()});case 6:e.sent.data.success&&(localStorage.setItem("name",JSON.stringify(t.name)),localStorage.setItem("studentID",JSON.stringify(t.studentID.toUpperCase())),"/quiz-instruction",l.push("/quiz-instruction")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status?(m(!1),E(!0)):e.t0.response&&400===e.t0.response.status&&(localStorage.clear(),"/invalid-token",l.push("/invalid-token"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("img",{className:"logoMiniGame",src:y.a,alt:""}),r.a.createElement("form",{className:"form-wrapper",onSubmit:n(b)},r.a.createElement(N,{register:t,icon:r.a.createElement("i",{className:"fa fas fa-user"}),name:"name",type:"text",label:"H\u1ecd v\xe0 t\xean",errors:c,valid:t({required:"H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"})}),r.a.createElement(N,{register:t,icon:r.a.createElement("i",{className:"fa fas fa-user"}),name:"studentID",type:"text",label:"MSSV",errors:c,valid:t({required:"MSSV kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"})}),r.a.createElement("span",{className:"error",style:{display:!h&&"none"}},"MSSV n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 \u0111\u0103ng k\xed v\u1edbi m\xe3 QR kh\xe1c."),r.a.createElement("button",{className:"login-button",disabled:u},r.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{display:!u&&"none"}})," ","Submit")))},T=n(90),Q=n.n(T),M=(n(134),function(){return r.a.createElement("div",{className:"error-container"},r.a.createElement(v,null),r.a.createElement("img",{className:"error-pic",src:Q.a,alt:"error",width:"30%"}),r.a.createElement("h1",{className:"alert-text"},"M\xe3 QR kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng \u0111\u1ebfn qu\u1ea7y \u0111\u1ec3 nh\u1eadn m\xe3 QR kh\xe1c."))}),B=(n(135),function(){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"summary-container"},r.a.createElement("h2",null,"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 ho\xe0n th\xe0nh b\xe0i Quiz."),r.a.createElement("h4",null,"Vui l\xf2ng theo d\xf5i Fanpage F-Code \u0111\u1ec3 \u0111\xf3n nh\u1eadn k\u1ebft qu\u1ea3 nh\xe9!!"),r.a.createElement("h4",null,"H\u1eb9n g\u1eb7p l\u1ea1i c\xe1c b\u1ea1n v\xe0o l\xfac 14h chi\u1ec1u nay nha!!")))}),U=function(e){var t=e.initialTime,n=Object(a.useState)(0),c=Object(S.a)(n,2),l=c[0],o=c[1];return Object(a.useEffect)((function(){var e=setInterval((function(){o(Date.now()-t)}),1e3);return function(){return clearInterval(e)}})),r.a.createElement("span",null,function(e){var t=Math.round(e/1e3),n=Math.floor(t/60),a=t%60;return(n=n<10?"0"+n:""+n)+":"+(a=a<10?"0"+a:""+a)}(l))},P=r.a.memo((function(e){e.indexOfQuestion;var t=JSON.parse(localStorage.getItem("timeStart"));return r.a.createElement("nav",null,r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"header-logo",src:"./transparance.png",alt:""}),r.a.createElement("div",{className:"header-timer"},r.a.createElement("i",{className:"fa fa-stopwatch"}),r.a.createElement(U,{initialTime:t}))))})),V=(n(136),function(e){var t=e.content;return r.a.createElement("div",{className:"question-box"},r.a.createElement("div",{className:"question-content"},r.a.createElement("p",null,t)))}),R=n(14),F=function(e){var t=e.answer,n=e.setArrOfAnswer,a=e.arrOfAnswer,c=e.index,l=e.indexOfQuestion;return r.a.createElement("div",{className:a[l-1]===c+1?"choosing-container container":"container",onClick:function(){var e=a;e[l-1]!==c+1&&(e[l-1]=c+1,n(Object(R.a)(e)))}},t)},H=r.a.memo((function(e){var t=e.multipleChoice,n=e.indexOfQuestion,a=e.trans,c=e.setTrans,l=e.arrOfAnswer,o=e.setArrOfAnswer;return r.a.createElement("div",{className:"answer-container"},t.map((function(e,t){return r.a.createElement(F,{key:t,answer:e,arrOfAnswer:l,setArrOfAnswer:o,index:t,indexOfQuestion:n,trans:a,setTrans:c})})))})),G=(n(137),n(168)),K=n(170),L=G.a.TabPane,W=function(){var e=JSON.parse(localStorage.getItem("questions")),t=JSON.parse(localStorage.getItem("token")),n=JSON.parse(localStorage.getItem("name")),c=JSON.parse(localStorage.getItem("studentID")),l=Object(s.g)(),o=Object(a.useState)(1),i=Object(S.a)(o,2),u=i[0],m=i[1],p=Object(a.useState)(JSON.parse(localStorage.getItem("answer"))||[0,0,0,0,0,0,0,0,0,0]),g=Object(S.a)(p,2),v=g[0],b=g[1];Object(a.useEffect)((function(){localStorage.setItem("answer",JSON.stringify(v))}),[v]);var O=Object(a.useState)(!1),N=Object(S.a)(O,2),k=N[0],y=N[1],I=function(){u<10&&m(u+1)},w=function(){y(!1)},q=function(){var e=Object(f.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),a=JSON.parse(localStorage.getItem("answer")),e.prev=2,e.next=5,h()({method:"POST",url:"".concat(E,"/user/end"),data:{token:t,name:n,studentID:c,answer:a}});case 5:e.sent.data.success&&(localStorage.clear(),"/quiz-summary",l.push("/quiz-summary")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&403===e.t0.response.status?("/quiz-summary",l.push("/quiz-summary")):e.t0.response&&400===e.t0.response.status&&(localStorage.clear(),"/invalid-token",l.push("/invalid-token"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"quiz-container"},r.a.createElement("div",{className:"header-progress"},r.a.createElement("p",null,u,"/10"),r.a.createElement(K.a,{percent:10*u,showInfo:!1})),r.a.createElement(G.a,{className:"tab-question",activeKey:String(u-1),onChange:function(e){return m(parseInt(e)+1)},tabPosition:"top",style:{width:"100%"}},e.map((function(e,t){return r.a.createElement(L,{tab:"C\xe2u ".concat(t+1),key:t},r.a.createElement(V,{content:e.question}),r.a.createElement("div",{className:"quiz-answer"},r.a.createElement(H,{indexOfQuestion:t+1,multipleChoice:e.multipleChoice,nextQuestion:I,arrOfAnswer:v,setArrOfAnswer:b})))}))),r.a.createElement("div",{className:"navigation"},u>1&&r.a.createElement("button",{className:"btn btn-prev",onClick:function(){u>1&&m(u-1)}},r.a.createElement("i",{className:"fa fa-arrow-left fa-lg"})),u<10&&r.a.createElement("button",{className:"btn btn-next",onClick:function(){return I()}},r.a.createElement("i",{className:"fa fa-arrow-right fa-lg"}))),r.a.createElement("button",{className:"btn-submit",onClick:function(){y(!0)}},"Submit"),r.a.createElement("div",{className:k?"dialog-container":"dialog-container-none",onClick:w},r.a.createElement("div",{className:"dialog"},r.a.createElement("div",{className:"dialog-title"},"B\u1ea1n \u0111\xe3 ch\u1eafc ch\u1eafn n\u1ed9p b\xe0i?"),r.a.createElement("div",{className:"dialog-action"},r.a.createElement("button",{className:"btn btn-dialog",onClick:w},"Kh\xf4ng"),r.a.createElement("button",{className:"btn btn-dialog",onClick:q},"C\xf3")))))},X=[{path:"/",name:"welcome",component:D},{path:"/invalid-token",name:"invalid-token",component:M},{path:"/quiz-summary",name:"quiz-summary",component:B}],Y=[{path:"/quiz-instruction",name:"quiz-instruction",component:b},{path:"/quiz",name:"quiz",component:function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(W,null))}},{path:"/quiz-summary",name:"quiz-summary",component:B}],Z=r.a.createElement(s.d,null,X.map((function(e){return r.a.createElement(i,{key:e.name,exact:!0,path:e.path,component:e.component})})),Y.map((function(e){return r.a.createElement(m,{key:e.name,path:e.path,component:e.component})}))),$=function(){var e=window.location.search,t=new URLSearchParams(e).get("token");return null!==t&&localStorage.setItem("token",JSON.stringify(t)),r.a.createElement(o.a,null,Z)};l.a.render(r.a.createElement($,null),document.getElementById("root"))},87:function(e,t,n){e.exports=n.p+"static/media/logo.34061f58.png"},90:function(e,t,n){e.exports=n.p+"static/media/error.b3d878e7.jpg"}},[[105,1,2]]]);
//# sourceMappingURL=main.253ee880.chunk.js.map